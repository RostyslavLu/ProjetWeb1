{% extends "base.html" %}

{% block title %}Catalogue d'enchères{% endblock %}

{% block body %}

    <main>
        <section>
            <header class="catalogue-header">
                <article class="catalog-categorie">
                    <a href="{{ url_racine }}enchere/encheresActuel">en cours</a>
                    <span>|</span>
                    <a href="{{ url_racine }}enchere/encheresArchive">archive</a>
                </article>
                <article class="catalogue-pages">
                    <a href="#"><img src="{{ url_racine }}assets/img/icon/arrow_previous_icon.png" alt="fleche"></a>
                    <a href="#">1</a>
                    <a href="#">2</a>
                    <a href="#">3</a>
                    <a href="#">4</a>
                    <a href="#">5</a>
                    <a href="#">6</a>
                    <a href="#">7</a>
                    <a href="#">8</a>
                    <a href="#">9</a>
                    <a href="#">...</a>
                    <a href="#">36</a>
                    <a href="#"><img src="{{ url_racine }}assets/img/icon/arrow_forward_icon.png" alt="fleche"></a>
                </article>
            </header>
            <div class="catalogue">
                
                <aside>
                    <h3>Recherche avancée</h3>
                    <article class="recherche">
                        
                        <form action="{{ url_racine }}enchere/searchComplex" method="post">
                            <h4>Condition</h4>
                            <div>
                                <input type="radio" name="condition" id="parfaite" value="1">
                                <label for="parfaite">Parfaite</label>
                            </div>
                            <div>
                                <input type="radio" name="condition" id="excellente" value="2">
                                <label for="excellente">Excellente</label>
                            </div>
                            <div>
                                <input type="radio" name="condition" id="bonne" value="3">
                                <label for="bonne">Bonne</label>
                            </div>
                            <div>
                                <input type="radio" name="condition" id="moyenne" value="4">
                                <label for="moyenne">Moyenne</label>
                            </div>
                            <div>
                                <input type="radio" name="condition" id="endommage" value="5">
                                <label for="endommage">Endommagé</label>
                            </div>
                            <hr>
                            <h4>Pays d'origine</h4>
                            <select name="pays">
                                <option value="">Tous les pays</option>
                                <option value="Canada">Canada</option>
                                <option value="États-Unis">États-Unis</option>
                                <option value="Angleterre">Angleterre</option>
                                <option value="Allemagne">Allemagne</option>
                                <option value="France">France</option>
                            </select>
                            <hr>
                            <h4>Prix</h4>
                            <div class="prix">
                                <input type="number" name="prixMin" id="prixMin">
                                <label for="prixMin">$</label>
                            
                                <input type="number" name="prixMax" id="prixMax">
                                <label for="prixMax">$</label>
                            </div>
                            <hr>
                            <h4>Type</h4>
                            <div>
                                <input type="radio" name="type" id="general" value="1">
                                <label for="general">Général</label>
                            </div>
                            <div>
                                <input type="radio" name="type" id="courrier-aerien" value="2">
                                <label for="courrier-aerien">Courrier Aérien</label>
                            </div>
                            <div>
                                <input type="radio" name="type" id="livret" value="3">
                                <label for="livret">Livret</label>
                            </div>
                            <div>
                                <input type="radio" name="type" id="port-du" value="4">
                                <label for="port-du">Port dû</label>
                            </div>
                            <div>
                                <input type="radio" name="type" id="carte-postal" value="5">
                                <label for="carte-postal">Carte postal</label>
                            </div>
                            <div>
                                <input type="radio" name="type" id="semi-postal" value="6">
                                <label for="semi-postal">Semi postal</label>
                            </div>
                            <div>
                                <input type="radio" name="type" id="entier-postal" value="7">
                                <label for="entier-postal">Entier postal</label>
                            </div>
                            <hr>
                            <h4>Année d'émission</h4>
                            <div class="anne">
                                <input type="number" name="anneMin" id="anneMin">
                                <label for="anneMin" hidden>De</label>
                                <input type="number" name="anneMax" id="anneMax">
                                <label for="anneMax" hidden>À</label>
                            </div>
                            <hr>
                            <h4>Dimensions</h4>
                            <div class="anne">
                                <input type="number" name="dimensionsMin" id="dimensionsMin">
                                <label for="dimensionsMin" hidden>De</label>
                                <input type="number" name="dimensionsMax" id="dimensionsMax">
                                <label for="dimensionsMax" hidden>À</label>
                            </div>
                            <hr>
                            <h4>Tirage</h4>
                            <label for="tirage"></label>
                            <select name="tirage" id="tirage">
                                <option value="">select</option>
                                <option value="1">1 - 50</option>
                                <option value="51">51 - 500</option>
                                <option value="501">501 - 10000</option>
                                <option value="10001">10001 - +</option>
                            </select>
                            <hr>
                            <h4>Certification</h4>
                            <label for="certification"></label>
                            <select name="certification" id="certification">
                                
                                <option value="1">Oui</option>
                                <option value="2" selected>Non</option>
                            </select>
                            <div class="bouton-recherche">
                                <input type="button" value="Remettre à zéro">
                                <input type="submit" value="Chercher">
                            </div>
                        </form>
                    </article>
  
                </aside>
                <div class="grille">
                {% for enchere in encheres %}
                    <article class="carte">
                        <div class="carte-entete">
                            <p>Lot # {{ enchere.Enchere_id }}
                            {% if enchere.coup_de_coeur == 1 %}
                            <svg fill="gold" clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m11.322 2.923c.126-.259.39-.423.678-.423.289 0 .552.164.678.423.974 1.998 2.65 5.44 2.65 5.44s3.811.524 6.022.829c.403.055.65.396.65.747 0 .19-.072.383-.231.536-1.61 1.538-4.382 4.191-4.382 4.191s.677 3.767 1.069 5.952c.083.462-.275.882-.742.882-.122 0-.244-.029-.355-.089-1.968-1.048-5.359-2.851-5.359-2.851s-3.391 1.803-5.359 2.851c-.111.06-.234.089-.356.089-.465 0-.825-.421-.741-.882.393-2.185 1.07-5.952 1.07-5.952s-2.773-2.653-4.382-4.191c-.16-.153-.232-.346-.232-.535 0-.352.249-.694.651-.748 2.211-.305 6.021-.829 6.021-.829s1.677-3.442 2.65-5.44z" fill-rule="nonzero"/></svg>
                            {% endif %}
                        </p>
                            
                            {%if session.user_id == enchere.Membre_id %}
                            <a href="{{ url_racine }}produit/update/{{ enchere.Produit_id }}">
                                <svg clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="var(--secondary-color-dark)"><path d="m14.776 18.689 7.012-7.012c.133-.133.217-.329.217-.532 0-.179-.065-.363-.218-.515l-2.423-2.415c-.144-.143-.333-.215-.522-.215s-.378.072-.523.215l-7.027 6.996c-.442 1.371-1.158 3.586-1.265 3.952-.125.433.199.834.573.834.41 0 .696-.099 4.176-1.308zm-2.258-2.392 1.17 1.171c-.704.232-1.275.418-1.729.566zm.968-1.154 5.356-5.331 1.347 1.342-5.346 5.347zm-4.486-1.393c0-.402-.356-.75-.75-.75-2.561 0-2.939 0-5.5 0-.394 0-.75.348-.75.75s.356.75.75.75h5.5c.394 0 .75-.348.75-.75zm5-3c0-.402-.356-.75-.75-.75-2.561 0-7.939 0-10.5 0-.394 0-.75.348-.75.75s.356.75.75.75h10.5c.394 0 .75-.348.75-.75zm0-3c0-.402-.356-.75-.75-.75-2.561 0-7.939 0-10.5 0-.394 0-.75.348-.75.75s.356.75.75.75h10.5c.394 0 .75-.348.75-.75zm0-3c0-.402-.356-.75-.75-.75-2.561 0-7.939 0-10.5 0-.394 0-.75.348-.75.75s.356.75.75.75h10.5c.394 0 .75-.348.75-.75z" fill-rule="nonzero"/></svg>
                            </a>
                            {%else%}
                            
                            {% if enchere.enchereUserFavorite == 1  %}
                            <a href="{{ url_racine }}user/offreFavoriteDelete/{{ enchere.Enchere_id }}">
                                <svg xmlns="http://www.w3.org/2000/svg" data-name="Capa 1" viewBox="0 0 20 19.84" stroke="var(--secondary-color-dark)" fill="var(--secondary-color-dark)">
                                    <path d="M16.22,5.59a4.13,4.13,0,0,0-3.43-1.78A3.7,3.7,0,0,0,10,5,3.71,3.71,0,0,0,7.21,3.81,4.13,4.13,0,0,0,3.78,5.59,4.22,4.22,0,0,0,3.6,9.77a10.67,10.67,0,0,0,2.09,3.09,23.44,23.44,0,0,0,3.23,2.82,1.84,1.84,0,0,0,2.16,0,23.36,23.36,0,0,0,3.23-2.82A10.67,10.67,0,0,0,16.4,9.77,4.22,4.22,0,0,0,16.22,5.59Zm-.66,3.83a10,10,0,0,1-1.92,2.82,22.72,22.72,0,0,1-3.1,2.7.9.9,0,0,1-1.08,0,22.8,22.8,0,0,1-3.1-2.7A9.75,9.75,0,0,1,4.44,9.42a3.38,3.38,0,0,1,.1-3.33A3.21,3.21,0,0,1,7.21,4.73a2.8,2.8,0,0,1,2.24,1,.81.81,0,0,0,1.12,0,2.8,2.8,0,0,1,2.22-1,3.21,3.21,0,0,1,2.67,1.36A3.38,3.38,0,0,1,15.56,9.42Z"/>
                                </svg>
                            </a>
                            {% elseif session.user_id %}
                            <a href="{{ url_racine }}user/offreFavorite/{{ enchere.Enchere_id }}">
                                <svg xmlns="http://www.w3.org/2000/svg" data-name="Capa 1" viewBox="0 0 20 19.84" stroke="grey">
                                    <path d="M16.22,5.59a4.13,4.13,0,0,0-3.43-1.78A3.7,3.7,0,0,0,10,5,3.71,3.71,0,0,0,7.21,3.81,4.13,4.13,0,0,0,3.78,5.59,4.22,4.22,0,0,0,3.6,9.77a10.67,10.67,0,0,0,2.09,3.09,23.44,23.44,0,0,0,3.23,2.82,1.84,1.84,0,0,0,2.16,0,23.36,23.36,0,0,0,3.23-2.82A10.67,10.67,0,0,0,16.4,9.77,4.22,4.22,0,0,0,16.22,5.59Zm-.66,3.83a10,10,0,0,1-1.92,2.82,22.72,22.72,0,0,1-3.1,2.7.9.9,0,0,1-1.08,0,22.8,22.8,0,0,1-3.1-2.7A9.75,9.75,0,0,1,4.44,9.42a3.38,3.38,0,0,1,.1-3.33A3.21,3.21,0,0,1,7.21,4.73a2.8,2.8,0,0,1,2.24,1,.81.81,0,0,0,1.12,0,2.8,2.8,0,0,1,2.22-1,3.21,3.21,0,0,1,2.67,1.36A3.38,3.38,0,0,1,15.56,9.42Z"/>
                                </svg>
                            </a>
                            {% else %}
                            <a href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" data-name="Capa 1" viewBox="0 0 20 19.84" stroke="grey">
                                    <path d="M16.22,5.59a4.13,4.13,0,0,0-3.43-1.78A3.7,3.7,0,0,0,10,5,3.71,3.71,0,0,0,7.21,3.81,4.13,4.13,0,0,0,3.78,5.59,4.22,4.22,0,0,0,3.6,9.77a10.67,10.67,0,0,0,2.09,3.09,23.44,23.44,0,0,0,3.23,2.82,1.84,1.84,0,0,0,2.16,0,23.36,23.36,0,0,0,3.23-2.82A10.67,10.67,0,0,0,16.4,9.77,4.22,4.22,0,0,0,16.22,5.59Zm-.66,3.83a10,10,0,0,1-1.92,2.82,22.72,22.72,0,0,1-3.1,2.7.9.9,0,0,1-1.08,0,22.8,22.8,0,0,1-3.1-2.7A9.75,9.75,0,0,1,4.44,9.42a3.38,3.38,0,0,1,.1-3.33A3.21,3.21,0,0,1,7.21,4.73a2.8,2.8,0,0,1,2.24,1,.81.81,0,0,0,1.12,0,2.8,2.8,0,0,1,2.22-1,3.21,3.21,0,0,1,2.67,1.36A3.38,3.38,0,0,1,15.56,9.42Z"/>
                                </svg>
                            </a>
                            {% endif %}

                            {% endif %}
                        </div>
                        <picture>
                            <img src="{{ url_racine }}assets/img/upload/{{ enchere.image_principale }}" alt="timbre">
                        </picture>
                        <div class="carte-text">
                            <h3>{{ enchere.nom }}</h3>
                            <div>
                                <p>Début enchère&nbsp;{{ enchere.date_debut }}</p>
                                <p>Fin enchère&nbsp;{{ enchere.date_fin }}</p>
                            </div>
                            <div>
                                <p>Mise courante: <strong>{{ enchere.offresCount }}</strong></p>
                                <p>Mise actuel: <strong>{{ enchere.prix_plancher }}&nbsp;$</strong></p>
                            </div>
                            <div class="controls">
                                <a class="bouton-details" href="{{ url_racine }}produit/show/{{ enchere.Produit_id }}">Details</a>
                            </div>
                        </div>
                    </article>
                    {% endfor %}
                </div>
            </div>
            <article class="catalogue-pages en-bas">
                <a href="#"><img src="{{ url_racine }}assets/img/icon/arrow_previous_icon.png" alt="fleche"></a>
                <a href="#">1</a>
                <a href="#">2</a>
                <a href="#">3</a>
                <a href="#">4</a>
                <a href="#">5</a>
                <a href="#">6</a>
                <a href="#">7</a>
                <a href="#">8</a>
                <a href="#">9</a>
                <a href="#">...</a>
                <a href="#">36</a>
                <a href="#"><img src="{{ url_racine }}assets/img/icon/arrow_forward_icon.png" alt="fleche"></a>
            </article>
        </section>
    </main>

{% endblock %}
